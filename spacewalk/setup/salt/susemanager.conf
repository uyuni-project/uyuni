# Setup cherrypy
rest_cherrypy:
  port: 9080
  host: 127.0.0.1
  collect_stats: false
  disable_ssl: true
  ssl_crt: /etc/apache2/ssl.crt/spacewalk.crt
  ssl_key: /etc/apache2/ssl.key/spacewalk.key

# Setup API authentication
external_auth:
  auto:
    admin:
      - .*
      - '@wheel'
      - '@runner'
      - '@jobs'

# Configure different file roots
file_roots:
  base:
    - /usr/share/susemanager/salt
    - /srv/susemanager/salt
    - /srv/salt

# Configure different pillar roots
pillar_roots:
  base:
    - /usr/share/susemanager/pillar
    - /srv/susemanager/pillar
    - /srv/pillar

# Extension modules path
extension_modules: /usr/share/susemanager/modules

# Master top configuration
master_tops:
  mgr_mastertops: True

# Configure external pillar
ext_pillar:
  - suma_minion: /srv/susemanager/pillar_data

# Scalability configuration parameters

# Avoids Salt timeouts in case many minions are accepted (in the hundreds range) and
# at least a few of them respond slowly. Default value is 5 and leads to the following
# error:
# Salt request timed out. The master is not responding. If this error persists after
# verifying the master is up, worker_threads may need to be increased
worker_threads: 50

# Wait for slow minions, or long running operations, longer. Default is 15s in total.
# Raise the timeout after 4 minutes.
timeout: 120
gather_job_timeout: 120

