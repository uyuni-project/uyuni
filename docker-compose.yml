version: "3.9"
services:
  sles-minion:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/sle-minion:master"
  opensuse-minion:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/opensuse-minion:master"
  opensuse-ssh-minion:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/opensuse-minion:master"
  ubuntu-minion:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/ubuntu-minion:master"
  rocky-minion:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/rocky-minion:master"
  opensuse-proxy:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/opensuse-proxy:master"
  proxy-httpd-test:
    build:
      context: .
      dockerfile: dockerfiles/proxy-http-test/Dockerfile
  proxy-salt-broker-test:
    build:
      context: .
      dockerfile: dockerfiles/proxy-salt-broker-test/Dockerfile
  proxy-squid:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/proxy-squid:master"
  proxy-ssh:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/proxy-ssh:master"
  proxy-tftpd:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/proxy-tftpd:master"
  server-h-test:
    ports:
      - "1234:80"
    build:
      context: .
      dockerfile: dockerfiles/server-httpd-test/Dockerfile
  server-s-test:
    build:
      context: .
      dockerfile: dockerfiles/server-search-test/Dockerfile
  server-t-test:
    build:
      context: .
      dockerfile: dockerfiles/server-taskomatic-test/Dockerfile
  server-j-test:
    build:
      context: .
      dockerfile: dockerfiles/server-java-app-test/Dockerfile
  server-pg:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/server-postgresql:master"
  server-salt-master:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/server-salt-master:master"
  server-salt-api:
    image: "${GITHUB_REGISTRY:?Set_GITHUB_REGISTRY}/${GITHUB_PROJECT:?Set_GITHUB_PROJECT}/server-salt-api:master"
