<?xml version="1.0" encoding="UTF-8"?>
<datasource_modes>
<write-mode name="reset_entitlements">
  <query params="max_members">
      UPDATE RHNSERVERGROUP
         SET max_members = :max_members
       WHERE GROUP_TYPE IS NOT NULL
  </query>
</write-mode>

<write-mode name="reset_entitlements_bnc740813">
  <query params="">
      UPDATE RHNSERVERGROUP
         SET max_members = NULL
       WHERE GROUP_TYPE IS NULL
  </query>
</write-mode>

<write-mode name="invalidate_scc_subscriptions">
  <query params="">
      UPDATE rhnprivatechannelfamily p SET max_members = 0
       WHERE p.channel_family_id IN
            (SELECT p.channel_family_id
               FROM rhnprivatechannelfamily p
               JOIN rhnchannelfamily f ON p.channel_family_id = f.id
              WHERE p.max_members > 0 AND f.label NOT IN (%s))
  </query>
</write-mode>

<write-mode name="set_subscription_max_members">
  <query params="max_members, cfid, orgid">
       UPDATE RHNPRIVATECHANNELFAMILY
          SET max_members = :max_members
        WHERE channel_family_id = :cfid
          AND org_id = :orgid
  </query>
</write-mode>
</datasource_modes>