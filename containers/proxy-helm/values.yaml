# The default repository and image version if not defined otherwise
repository: registry.opensuse.org/uyuni
tag: latest

## Ref: https://kubernetes.io/docs/concepts/containers/images/#image-pull-policy
##
pullPolicy: "Always"

## registrySecret defines the name of secret to use to pull the images from the
## registry with authentication. Leave empty for no authentication.
registrySecret: ""

global:
  # config is the content of the config.yaml file generated by the server.
  # See the Systems > Proxy Configuration page on the server
  #  or the proxy.containerConfig API documentation.
  # This value is required
  config:

  # httpd is the content of the httpd.yaml file generated by the server.
  # See the Systems > Proxy Configuration page on the server
  #  or the proxy.containerConfig API documentation.
  # This value is required
  httpd:

  # ssh is the content of the ssh.yaml file generated by the server.
  # See the Systems > Proxy Configuration page on the server
  #  or the proxy.containerConfig API documentation.
  # This value is required
  ssh:

ingress:
  ## ingress.type defines the ingress that is used in the cluster.
  ## It can be either "nginx", "traefik" or any other value.
  ##
  type: "traefik"
  
  ## Specify the ingress class name to use. Empty, means that the default one will be used.
  ##
  class: ""
  
  ## annotations can be used to set custom annotations on the created ingress rules.
  ## This can be used to configure another ingress than the ones already wired with the ingress.type.
  annotations:
    ssl:

volumes:
  # squid is the volume for the proxy's cache.
  # The size of the squid cache is set when creating the configuration file on the server side.
  squid:
    ## If defined, storageClassName: <storageClass>
    ## If set to "-", storageClassName: "", which disables dynamic provisioning
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default storage class.
    storageClass:

    ## extraLabels adds custom labels to the PVC metadata
    extraLabels:

    ## annotations sets annotations to the PVC.
    ## This may be useful to configure some storage backends
    annotations:

    ## volumeName sets the volumeName to bind to if defined.
    #volumeName:

    ## selector is rendered with toYAML and can be used to bind to a specific PV.
    selector:

services:
    ## Select service type
    ## Ref: https://kubernetes.io/docs/concepts/services-networking/service/
    type: ClusterIP

    ## Annotations sets annotations to all services.
    annotations:

httpd:
  ## image overrides the default image computed using the repository property
  ## Leave undefined to use the default
  image:
  ## tag overrides the default tag in the tag property
  ## Leave undefined to use the default
  tag:

  ## Apache configuration tuning to use
  tuning: ""
  
  # Service ports to use if the type is NodePort
  ports:
    http: 30080
    https: 30443

squid:
  ## image overrides the default image computed using the repository property
  ## Leave undefined to use the default
  image:
  ## tag overrides the default tag in the tag property
  ## Leave undefined to use the default
  tag:

  ## Squid configuration tuning to use
  tuning: ""

ssh:
  ## image overrides the default image computed using the repository property
  ## Leave undefined to use the default
  image:
  ## tag overrides the default tag in the tag property
  ## Leave undefined to use the default
  tag:

  ## SSHD configuration tuning to use
  tuning: ""
  
  # Service ports to use if the type is NodePort
  ports:
    ssh: 38022

tftp:
  ## image overrides the default image computed using the repository property
  ## Leave undefined to use the default
  image:
  ## tag overrides the default tag in the tag property
  ## Leave undefined to use the default
  tag:

  ## Use the host network to bypass the Kubernetes network layers.
  ## This may be needed if not using a LoadBalancer for the TFTP server.
  ## Note that this may be more complex to manage on multi-node clusters.
  hostNetwork: false

salt:
  ## image overrides the default image computed using the repository property
  ## Leave undefined to use the default
  image:
  ## tag overrides the default tag in the tag property
  ## Leave undefined to use the default
  tag:
  
  # Service ports to use if the type is NodePort
  ports:
    publish: 34505
    request: 34506

